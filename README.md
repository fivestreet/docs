# Lead Vendor Integration Guide

## Overview

Raw e-mail (.eml) files generated by lead vendors exist in a variety of formats for presentation to real-estate agents. LeadParser technology is able to extract pertinent lead data from arbitarily assembled e-mails, but this process does result in the occasional misreading of such data. Therefore, for those vendors whose clients receive automated lead notification through Move/FiveStreet's LeadParser system, an option to deliver lead data in a standardized format is provided herein.  In this manner, some element of the parsing process may be bypassed, forwarding the needed data onto the agent without any chance of data loss.

## Requirements

Structured lead data can be embedded into e-mails in a manner that is transparent to the end-user by incorporating this data directly into the <head> section of HTML formatted e-mails already provided by lead vendors.  To accomplish this, the following is necessary:

+ E-mail headers must be followed by HTML formatted content with a Content-Type of text/html 
+ HTML must be correctly formatted according to this standard layout:
	
	```
	<!DOCTYPE html ... >
	...
	<html xmlns= ... >
	    <head>
	    	...
	        ... (Existing <head> section content)
	        ...
	        (lines containing embedded <meta> tags and lead data - not visible to end-user)        
	    </head>
	    <body>
	        ...
	        ... (Existing HTML formatted content visible to the end-user)
	        ...    
	    </body>
	</html>
	```
+ Lead data to be processed and passed onto the end-user are summarized in the following table:

    Field | Meta tag name | Example Content | Required Field
    ------|---------------|-----------------|----------------
      Lead Source | lead_source | Realtor.com | Yes
  Lead Name | lead_name | John Smith | Yes
  Lead E-Mail Address | lead_email | jsmith@gmail.com | Yes
  Lead Phone Number | lead_phone | 703-555-1212 | Yes
  Lead Property Address | lead_property_address | 100 Main Street, Anywhere, VA | Yes
  Lead Property MLS # | lead_mls | A5712345 | Yes
  Message From Lead | lead_message | I am interested in a house in Anywhere | No
  Lead Type | lead_type | Buyer | No
  Version | lead_information_version | 1.0 | Yes
+ Given the above data, the <meta> tags to be placed in the "tags containing embedded <meta> tags and lead data" placeholder within the <head> section shown above should appear as:

	```
	 <meta name="lead_source" content="Realtor.com" />
	 <meta name="lead_name" content="John Smith" />
	 <meta name="lead_email" content="jsmith@gmail.com" />
	 <meta name="lead_phone" content="703-555-1212" />
	 <meta name="lead_property_address" content="100 Main Street, Anywhere, VA" />
	 <meta name="lead_mls" content="A5712345" />
	 <meta name="lead_message" content="I am interested in a house in Anywhere" />
	 <meta name="lead_type" content="Buyer" />
	 <meta name="lead_information_version" content="1.0" />
	```

